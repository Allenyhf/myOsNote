{"root":{"data":{"id":"47259a215337","created":1581335511,"text":"操作系统之内存","note":"### 应试\n- 页式管理与段式管理区别\n\t- 段式PPT例题\n- 计算机系统角度（综合TLB/页表/cache知识）\n\t- 南大计算机系统（二）第六周第4节例题"},"children":[{"data":{"id":"c0ignvn16s5c","created":1581335534334,"text":"内存管理","layout_mind_offset":{"x":-36,"y":10},"expandState":"collapse"},"children":[{"data":{"id":"c0igrwjo9urk","created":1581335849764,"text":"连续区内存分配","expandState":"collapse","layout_right_offset":{"x":2,"y":118}},"children":[{"data":{"id":"c0igs12ad8g0","created":1581335859597,"text":"多重分区连续区内存分配","expandState":"collapse"},"children":[{"data":{"id":"c0igtdxb2vpc","created":1581335965958,"text":"worst fit"},"children":[]},{"data":{"id":"c0igtisicutc","created":1581335976552,"text":"first fit"},"children":[]},{"data":{"id":"c0igtl266ww0","created":1581335981490,"text":"best fit"},"children":[]}]}]},{"data":{"id":"c0izo5wrq03k","created":1581389157779,"text":"页式内存管理"},"children":[{"data":{"id":"c0izqxx5v5ds","created":1581389375481,"text":"页表","layout_right_offset":{"x":-5,"y":43}},"children":[{"data":{"id":"c0izrkhyr5z4","created":1581389424628,"text":"层次页表"},"children":[{"data":{"id":"c0izrnz2l88w","created":1581389432193,"text":"二级页表"},"children":[]},{"data":{"id":"c0izrqf6d14w","created":1581389437520,"text":"三级页表"},"children":[]}]},{"data":{"id":"c0izr0jtcao0","created":1581389381204,"text":"哈希页表","note":"逻辑地址->hash func->物理地址"},"children":[]},{"data":{"id":"c0izuz6hdurk","created":1581389691678,"text":"反向页表","note":"Pid+逻辑页号"},"children":[]}]},{"data":{"id":"c0izo9lo6o00","created":1581389165815,"text":"有页表、TLB、PTBR、PTLR","note":"### 页表\n- 逻辑地址映射到物理地址\n### TLB/快表\n- 缓存最近（最热）的页表项\n- 局部性原理\n- 并行搜索\n### PTBR\n- 页表基址寄存器\n### PTLR\n- 页表长度寄存器","layout_right_offset":{"x":-1,"y":23}},"children":[]},{"data":{"id":"c0j07lljr8jk","created":1581390680849,"text":"内存保护","layout_right_offset":{"x":0,"y":17}},"children":[{"data":{"id":"c0j07o7pk0lc","created":1581390686542,"text":"有效位"},"children":[]}]}]},{"data":{"id":"c0j061xvfev4","created":1581390559693,"text":"段式内存管理","layout_right_offset":{"x":0,"y":21},"note":"### 解决页式可能将不同访问权限数据混合在一起的问题\n### 按照访问权限管理：\n- 代码段\n- 只读数据段\n- 可读可写数据段\n- ..."},"children":[{"data":{"id":"c0j068ij5kw0","created":1581390574003,"text":"有段表、STBR、STLR"},"children":[]},{"data":{"id":"c0j0761xdips","created":1581390647010,"text":"内存保护"},"children":[{"data":{"id":"c0j07a5t6dc0","created":1581390655952,"text":"有效位"},"children":[]},{"data":{"id":"c0j07dxjuz9c","created":1581390664160,"text":"特权位（2bit）"},"children":[]}]},{"data":{"id":"c0j4lneziyo0","created":1581403066343,"text":"缺点"},"children":[{"data":{"id":"c0j4m6idbt34","created":1581403107906,"text":"空间利用率低下，大量碎片"},"children":[]}]}]},{"data":{"id":"c0j4l2mjcirk","created":1581403021087,"text":"段页式内存管理","note":"### 综合段式与页式各自优点\n- 一方面，提高内存空间利用率\n- 另一方面，方便访问权限管理\n### 访问内存流程\n- a.根据段地址查询段表，获得页地址\n- b.根据页地址查询页表，获得PPN\n- c.PPN+PPO(VPO)得到内存物理地址","layout_right_offset":{"x":-6,"y":41}},"children":[]}]},{"data":{"id":"c0igo20pkmbk","created":1581335548222,"text":"内存基本概念","layout_mind_offset":{"x":-50,"y":-171},"expandState":"collapse"},"children":[{"data":{"id":"c0igoh2i670g","created":1581335580982,"text":"地址","layout_right_offset":{"x":-6,"y":-58},"expandState":"collapse"},"children":[{"data":{"id":"c0igopspn1fk","created":1581335599981,"text":"物理地址","note":"访问内存单元所用地址，亦即地址总线上的地址\n"},"children":[]},{"data":{"id":"c0igoxl9ymm8","created":1581335616946,"text":"逻辑地址/虚拟地址","note":"CPU生成的地址/编译、汇编过程中所生成的地址\n"},"children":[]}]},{"data":{"id":"c0igp5w8pjwg","created":1581335635023,"text":"MMU内存管理单元","note":"### 作用\n- 将逻辑地址转化为物理地址\n"},"children":[]},{"data":{"id":"c0igsbikphxc","created":1581335882350,"text":"内存扩充技术","expandState":"collapse"},"children":[{"data":{"id":"c0igsn5rzlz4","created":1581335907697,"text":"交换技术","note":"同一个进程/作业\n"},"children":[]},{"data":{"id":"c0igsrg91hxc","created":1581335917038,"text":"覆盖技术","note":"不同进程或作业，不会同时执行的代码共享内存空间"},"children":[]}]},{"data":{"id":"c0igt3wp9yww","created":1581335944154,"text":"碎片","expandState":"collapse"},"children":[{"data":{"id":"c0igt6wd5beo","created":1581335950664,"text":"内部碎片"},"children":[]},{"data":{"id":"c0igt8mjvf9c","created":1581335954424,"text":"外部碎片"},"children":[{"data":{"id":"c0igtysgtukg","created":1581336011378,"text":"紧缩"},"children":[]}]}]}]},{"data":{"id":"c0jyncm8bcao","created":1581487832862,"text":"虚拟内存管理","layout_mind_offset":{"x":25,"y":87},"expandState":"expand"},"children":[{"data":{"id":"c0jynxmmokjk","created":1581487878598,"text":"按需调入/请求页","note":"- 根据局部性原理\n"},"children":[]},{"data":{"id":"c0jyoslm9kow","created":1581487946017,"text":"页面替换算法","layout_right_offset":{"x":318,"y":41.000030517578125},"expandState":"collapse","note":"- 全局替换\n- 局部替换\n"},"children":[{"data":{"id":"c0jyp112251c","created":1581487964365,"text":"FIFO算法"},"children":[]},{"data":{"id":"c0mjbv5fhw5c","created":1581749296056,"text":"optimal algorithm（目标）"},"children":[]},{"data":{"id":"c0jyp3ojifi8","created":1581487970139,"text":"LRU算法"},"children":[{"data":{"id":"c0jyuewzn7cw","created":1581488386415,"text":"实现"},"children":[{"data":{"id":"c0jyuh4yn6dc","created":1581488391251,"text":"时钟计数器","note":"- 可借助MMU硬件实现\n- 但是效率低下\n\t- 需要访问内存\n\t- 计数器位数多\n"},"children":[]},{"data":{"id":"c0jyuns06pkw","created":1581488405705,"text":"堆栈-双向链表实现","note":"- 时间效率低"},"children":[]}]}]},{"data":{"id":"c0jyple4htkw","created":1581488008691,"text":"近似LRU"},"children":[{"data":{"id":"c0mjdhan5zi8","created":1581749422625,"text":"clock 算法"},"children":[]}]},{"data":{"id":"c0jypnw8pm9s","created":1581488014140,"text":"LFU"},"children":[]},{"data":{"id":"c0jypq1w6xhc","created":1581488018835,"text":"MFU"},"children":[]}]},{"data":{"id":"c0jzh9hzu2o0","created":1581490177001,"text":"系统抖动"},"children":[{"data":{"id":"c0mjdvptc9a8","created":1581749454017,"text":"引入工作集","note":"- 根据locality之和分配工作集窗口\n"},"children":[]},{"data":{"id":"c0mjfsi2ss8w","created":1581749603747,"text":"PFF","note":"- 根据缺页频率分配页帧"},"children":[]}]},{"data":{"id":"c0jzj6uluznk","created":1581490327961,"text":"初始内存分配"},"children":[{"data":{"id":"c0jzjkgnfpc0","created":1581490357592,"text":"固定分配","note":"- Equal Allocation\n- Partition Allocation"},"children":[]},{"data":{"id":"c0jzjq9fvpxc","created":1581490370217,"text":"优先级分配"},"children":[]}]},{"data":{"id":"c0mjgt0bn0g0","created":1581749683215,"text":"page buffer algorithm","layout_left_offset":{"x":9,"y":5},"note":"- 使用页面缓冲池，动态分配回收页面"},"children":[]}]},{"data":{"id":"c0mjh62d5vy8","created":1581749711636,"text":"memory mapped I/O","layout_mind_offset":{"x":440,"y":-21},"note":"- 读写内存相当于读写文件\n\t- 速度快\n\t- mmap（）函数"},"children":[]}]},"template":"default","theme":"fresh-green","version":"1.4.43"}